replicaCount: 2

image:
  repository: idoping/dockerhomeworkapp
  tag: "1.0.4"
  pullPolicy: IfNotPresent

containerPort: 8000

probes:
  path: /health

service:
  type: ClusterIP
  port: 8000

resources:
  limits:
    cpu: 500m
    memory: 256Mi
  requests:
    cpu: 250m
    memory: 128Mi

serviceAccount:
  create: true
  name: ""

ingress:
  enabled: true
  className: nginx
  annotations: {}
  hosts:
    - host: arch.homework
      paths:
        - path: /
          pathType: Prefix
  tls: []

pg:
  config:
    host: "my-postgres-postgresql.pg.svc.cluster.local"
    port: 5432
    database: "Users"

  app:
    username: "iDoping"
    createSecret: true
    secretName: "docker-homework-app-pg-secret"
    password: "Qzwxec123"
    passwordKey: "DbSettings__Password"

  superuser:
    createSecret: true
    username: "postgres"
    secretName: "docker-homework-app-pg-root"
    passwordKey: "password"
    password: "Qzwxec123"

monitoring:
  enabled: true
  pgExporter:
    enabled: true
    replicaCount: 1
    image:
      repository: prometheuscommunity/postgres-exporter
      tag: v0.16.0
    service:
      port: 9187
      targetPort: 9187
      name: http-metrics
    secret:
      username: exporter
      password: "Qzwxec123"
  serviceMonitor:
    enabled: true
    labels:
      release: monitoring
    interval: 15s

jwt:
  issuer: DockerHomeWorkApp
  audience: DockerHomeWorkApp
  accessTokenMinutes: 60
  secret: ""
